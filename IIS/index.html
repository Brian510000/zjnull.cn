<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>使用 IIS 搭建本地 Web 服务器 | ZJNULL</title><meta name="author" content="花开一百年"><meta name="copyright" content="花开一百年"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="使用 IIS 搭建本地 Web 服务器1. 搭建 IIS1.1 启用 IIS 服务 打开 控制面板，进入 程序 点击 启用或关闭 Windows 功能 在弹出的窗口中，勾选 Internet 信息服务 (IIS) 相关服务 点击 确定，等待系统安装并配置 IIS  1.2 进入 IIS 管理器 在 开始菜单 或 运行 (Win + R) 输入 inetmgr 并回车，打开 IIS 管理器。 在左侧">
<meta property="og:type" content="article">
<meta property="og:title" content="使用 IIS 搭建本地 Web 服务器">
<meta property="og:url" content="https://zjnull.cn/IIS/index.html">
<meta property="og:site_name" content="ZJNULL">
<meta property="og:description" content="使用 IIS 搭建本地 Web 服务器1. 搭建 IIS1.1 启用 IIS 服务 打开 控制面板，进入 程序 点击 启用或关闭 Windows 功能 在弹出的窗口中，勾选 Internet 信息服务 (IIS) 相关服务 点击 确定，等待系统安装并配置 IIS  1.2 进入 IIS 管理器 在 开始菜单 或 运行 (Win + R) 输入 inetmgr 并回车，打开 IIS 管理器。 在左侧">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://zjnull.cn/img/3.png">
<meta property="article:published_time" content="2025-02-21T21:09:06.000Z">
<meta property="article:modified_time" content="2025-02-26T08:30:39.035Z">
<meta property="article:author" content="花开一百年">
<meta property="article:tag" content="Hexo">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://zjnull.cn/img/3.png"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "使用 IIS 搭建本地 Web 服务器",
  "url": "https://zjnull.cn/IIS/",
  "image": "https://zjnull.cn/img/3.png",
  "datePublished": "2025-02-21T21:09:06.000Z",
  "dateModified": "2025-02-26T08:30:39.035Z",
  "author": [
    {
      "@type": "Person",
      "name": "花开一百年",
      "url": "https://zjnull.cn/"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://zjnull.cn/IIS/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":true},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '使用 IIS 搭建本地 Web 服务器',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><meta name="generator" content="Hexo 7.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/img/3.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">14</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">2</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">1</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首頁</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" target="_blank" rel="noopener" href="https://c6.y.qq.com/base/fcgi-bin/u?__=RcB7yFqBThqr"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></div><div class="menus_item"><a class="site-page" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> 照片</span></a></div><div class="menus_item"><a class="site-page" href="/homeworks/"><i class="fa-fw fa-solid fa-book-skull"></i><span> 作业</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(/img/2.jpg);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><img class="site-icon" src="/img/4.png" alt="Logo"><span class="site-name">ZJNULL</span></a><a class="nav-page-title" href="/"><span class="site-name">使用 IIS 搭建本地 Web 服务器</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首頁</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" target="_blank" rel="noopener" href="https://c6.y.qq.com/base/fcgi-bin/u?__=RcB7yFqBThqr"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></div><div class="menus_item"><a class="site-page" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> 照片</span></a></div><div class="menus_item"><a class="site-page" href="/homeworks/"><i class="fa-fw fa-solid fa-book-skull"></i><span> 作业</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">使用 IIS 搭建本地 Web 服务器</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2025-02-21T21:09:06.000Z" title="发表于 2025-02-22 05:09:06">2025-02-22</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-02-26T08:30:39.035Z" title="更新于 2025-02-26 16:30:39">2025-02-26</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%8A%80%E6%9C%AF/">技术</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h1 id="使用-IIS-搭建本地-Web-服务器"><a href="#使用-IIS-搭建本地-Web-服务器" class="headerlink" title="使用 IIS 搭建本地 Web 服务器"></a>使用 IIS 搭建本地 Web 服务器</h1><h2 id="1-搭建-IIS"><a href="#1-搭建-IIS" class="headerlink" title="1. 搭建 IIS"></a>1. 搭建 IIS</h2><h3 id="1-1-启用-IIS-服务"><a href="#1-1-启用-IIS-服务" class="headerlink" title="1.1 启用 IIS 服务"></a>1.1 启用 IIS 服务</h3><ol>
<li>打开 <strong>控制面板</strong>，进入 <strong>程序</strong></li>
<li>点击 <strong>启用或关闭 Windows 功能</strong></li>
<li>在弹出的窗口中，勾选 <strong>Internet 信息服务 (IIS)</strong> 相关服务<img src="https://ghfast.top/https://raw.githubusercontent.com/Brian510000/pic_bed/main/web-site/20250222044445458.png"></li>
<li>点击 <strong>确定</strong>，等待系统安装并配置 IIS</li>
</ol>
<h3 id="1-2-进入-IIS-管理器"><a href="#1-2-进入-IIS-管理器" class="headerlink" title="1.2 进入 IIS 管理器"></a>1.2 进入 IIS 管理器</h3><ol>
<li>在 <strong>开始菜单</strong> 或 <strong>运行 (Win + R)</strong> 输入 <code>inetmgr</code> 并回车，打开 IIS 管理器。</li>
<li>在左侧<strong>连接</strong>面板中，展开本地计算机的 IIS 站点管理。</li>
</ol>
<h3 id="1-3-添加网站（也可以直接使用-Default-Web-Site"><a href="#1-3-添加网站（也可以直接使用-Default-Web-Site" class="headerlink" title="1.3 添加网站（也可以直接使用 Default Web Site)"></a>1.3 添加网站（也可以直接使用 Default Web Site)</h3><ol>
<li><p>在 <strong>IIS 管理器</strong> 中，右键 <strong>网站</strong>，选择 <strong>添加网站</strong>。</p>
</li>
<li><p>在弹出的窗口中，配置以下参数：</p>
<ul>
<li><strong>网站名称</strong>：<code>yourname</code></li>
<li><strong>物理路径</strong>：选择本地存放网站文件的根目录。</li>
<li><strong>IP 地址</strong>：<ul>
<li>可选择 <code>全部未分配</code>。</li>
<li>也可以选择本机网卡地址（推荐），这样同一局域网下的设备可通过该地址访问。</li>
</ul>
</li>
<li><strong>端口</strong>：建议使用默认 <code>80</code> 端口，避免用户访问时手动输入端口号。</li>
<li><strong>主机名</strong>：<ul>
<li>可以设置为自定义的访问网址。</li>
<li>若端口不是 <code>80</code>，则访问时需使用 <code>网址:端口号</code> 形式。</li>
</ul>
</li>
</ul>
</li>
<li><p>点击 <strong>确定</strong>，完成网站添加。</p>
</li>
</ol>
<h3 id="1-4-访问网站"><a href="#1-4-访问网站" class="headerlink" title="1.4 访问网站"></a>1.4 访问网站</h3><ul>
<li>在本地浏览器输入 <code>http://localhost</code>，若端口不是 80，则输入 <code>http://localhost:端口号</code> 访问。</li>
<li>在同一局域网的手机或其他设备上，可通过网卡地址访问网站，例如 <code>http://192.168.x.x</code>。<blockquote>
<p>在 CMD 中输入 ipconfig 可以直接查看本机 IP 地址</p>
</blockquote>
</li>
<li>若设置了主机名，可直接在浏览器输入主机名访问（需确保本地 DNS 解析或 hosts 文件正确配置）。</li>
</ul>
<hr>
<p>至此，本地 IIS 服务器已成功搭建，并可在局域网内访问</p>
<h2 id="2-基于-node-js-的静态文件部署方案"><a href="#2-基于-node-js-的静态文件部署方案" class="headerlink" title="2.基于 node.js 的静态文件部署方案"></a>2.基于 node.js 的静态文件部署方案</h2><h3 id="在-IIS-上运行-Hexo-博客"><a href="#在-IIS-上运行-Hexo-博客" class="headerlink" title="在 IIS 上运行 Hexo 博客"></a>在 IIS 上运行 Hexo 博客</h3><p>Hexo 生成的是纯静态文件（HTML、CSS、JS），而 IIS 主要用于运行 ASP.NET、PHP 或静态网站。因此，你可以按照以下步骤部署 Hexo</p>
<h3 id="2-1-生成静态网页"><a href="#2-1-生成静态网页" class="headerlink" title="2.1 生成静态网页"></a>2.1 生成静态网页</h3><p>在 Hexo 项目根目录执行以下命令，生成完整的静态网站：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean &amp;&amp; hexo generate</span><br></pre></td></tr></table></figure>

<p>生成的静态网站将存放在 <code>public/</code> 目录下。</p>
<h3 id="2-2-部署到-IIS"><a href="#2-2-部署到-IIS" class="headerlink" title="2.2 部署到 IIS"></a>2.2 部署到 IIS</h3><ol>
<li>在 IIS 中创建一个新站点（或使用默认的 <code>wwwroot</code> 目录）。</li>
<li>将 <code>public/</code> 目录的内容复制到 IIS 站点的根目录。</li>
<li>确保 IIS 开启了静态文件服务：<ul>
<li>在 <strong>IIS 管理器</strong> 中，进入 <strong>Handler Mappings</strong><br><img src="https://ghfast.top/https://raw.githubusercontent.com/Brian510000/pic_bed/main/web-site/20250222045635576.png"></li>
<li>确保 <strong>StaticFile</strong> 处理程序启用</li>
</ul>
</li>
</ol>
<h3 id="2-3-绑定域名或访问"><a href="#2-3-绑定域名或访问" class="headerlink" title="2.3 绑定域名或访问"></a>2.3 绑定域名或访问</h3><ul>
<li>直接通过 <code>http://localhost/</code> 访问 Hexo</li>
<li>如果有域名，可以在 IIS 中绑定域名，并解析到你的服务器。</li>
</ul>
<h3 id="2-4-处理动态功能（如评论、搜索）"><a href="#2-4-处理动态功能（如评论、搜索）" class="headerlink" title="2.4 处理动态功能（如评论、搜索）"></a>2.4 处理动态功能（如评论、搜索）</h3><p>Hexo 是静态博客，没有数据库，IIS 也不需要运行 Node.js。但如果你有动态评论（如 <strong>Valine</strong>、<strong>Gitalk</strong>），它们仍然可以正常使用。</p>
<hr>
<p>至此，本地 IIS 服务器已成功搭建，并支持 Hexo 博客的部署和访问</p>
<h2 id="3-IIS-的-HTTP-HTTPS-规则"><a href="#3-IIS-的-HTTP-HTTPS-规则" class="headerlink" title="3. IIS 的 HTTP&#x2F;HTTPS 规则"></a>3. IIS 的 HTTP&#x2F;HTTPS 规则</h2><h3 id="3-1-解决-API-访问问题（CORS-配置）"><a href="#3-1-解决-API-访问问题（CORS-配置）" class="headerlink" title="3.1 解决 API 访问问题（CORS 配置）"></a>3.1 解决 API 访问问题（CORS 配置）</h3><p>部分情况下，Hexo 博客的 <strong>subtitles</strong> 或其他远程 API 请求无法正确加载，这是因为 <strong>IIS 默认禁止了远程 API 请求</strong>。你可以通过 <strong>CORS（跨域资源共享）</strong> 配置来解决。</p>
<h3 id="🛠-方法-1：修改-web-config（推荐）"><a href="#🛠-方法-1：修改-web-config（推荐）" class="headerlink" title="🛠 方法 1：修改 web.config（推荐）"></a><strong>🛠 方法 1：修改 <code>web.config</code>（推荐）</strong></h3><ol>
<li><strong>打开 Hexo 部署目录</strong>（即 IIS 网站根目录）。</li>
<li><strong>编辑 <code>web.config</code></strong>，如果文件不存在，则新建一个。</li>
<li><strong>添加以下代码</strong>：</li>
</ol>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">system.webServer</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">httpProtocol</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">customHeaders</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">add</span> <span class="attr">name</span>=<span class="string">&quot;Access-Control-Allow-Origin&quot;</span> <span class="attr">value</span>=<span class="string">&quot;*&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">add</span> <span class="attr">name</span>=<span class="string">&quot;Access-Control-Allow-Methods&quot;</span> <span class="attr">value</span>=<span class="string">&quot;GET, POST, OPTIONS&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">add</span> <span class="attr">name</span>=<span class="string">&quot;Access-Control-Allow-Headers&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Content-Type, Authorization&quot;</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">customHeaders</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">httpProtocol</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">system.webServer</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ol start="4">
<li><strong>保存文件并重启 IIS</strong>：</li>
</ol>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iisreset</span><br></pre></td></tr></table></figure>

<h3 id="🛠-方法-2：IIS-管理器中手动配置"><a href="#🛠-方法-2：IIS-管理器中手动配置" class="headerlink" title="🛠 方法 2：IIS 管理器中手动配置"></a><strong>🛠 方法 2：IIS 管理器中手动配置</strong></h3><p>如果你不想修改 <code>web.config</code>，可以在 <strong>IIS 管理器</strong> 中进行手动设置：</p>
<ol>
<li><strong>打开 IIS 管理器</strong>：<ul>
<li>按 <code>Win + R</code>，输入 <code>inetmgr</code>，回车。</li>
</ul>
</li>
<li><strong>选择站点</strong>：<ul>
<li>在左侧列表中，点击你的网站（如 <code>Default Web Site</code>）。</li>
</ul>
</li>
<li><strong>打开 HTTP 响应标头</strong>：<ul>
<li>在 <strong>功能视图（Features View）</strong> 中，找到 <strong>“HTTP 响应标头”</strong> 并打开。</li>
</ul>
</li>
<li><strong>添加 CORS 相关标头</strong>：<ul>
<li>右侧点击 <strong>“添加”</strong>，输入：<ul>
<li><strong>名称：</strong> <code>Access-Control-Allow-Origin</code><br><strong>值：</strong> <code>*</code></li>
<li><strong>名称：</strong> <code>Access-Control-Allow-Methods</code><br><strong>值：</strong> <code>GET, POST, OPTIONS</code></li>
<li><strong>名称：</strong> <code>Access-Control-Allow-Headers</code><br><strong>值：</strong> <code>Content-Type, Authorization</code></li>
</ul>
</li>
</ul>
</li>
<li><strong>重启 IIS</strong>：</li>
</ol>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iisreset</span><br></pre></td></tr></table></figure>

<hr>
<p>大功告成！已成功配置 IIS 以支持 Hexo 全部渲染依赖，并允许远程 API 访问。如有需要，可进一步优化 HTTPS 配置，确保网站安全性</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://ghfast.top/https://github.com/Brian510000/zjnull.cn/archive/refs/heads/main.zip">点击下载本站ZIP包</a></p>
</blockquote>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://zjnull.cn">花开一百年</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://zjnull.cn/IIS/">https://zjnull.cn/IIS/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="https://zjnull.cn" target="_blank">ZJNULL</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Hexo/">Hexo</a></div><div class="post-share"><div class="social-share" data-image="/img/3.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/piclist/" title="通过Gitee镜像加速图床"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">通过Gitee镜像加速图床</div></div><div class="info-2"><div class="info-item-1">前言由于某些特殊原因，国内的 Gitee Pages 暂时无法提供服务，导致 Markdown 文件中的图片无法正常显示。此外，Gitee 可能会对 raw 链接的外部访问进行限制，使得某些平台（如 GitHub 及部分 Markdown 解析器）无法直接引用 Gitee 上的图片。  为了解决这一问题，我们可以搭建一个图床，将图片上传至 GitHub Pages，并通过 Gitee 对 GitHub Pages 仓库进行镜像，以 Gitee 提供的 raw 链接来引用图片。这种方法不仅能够加快国内访问速度，还能提高图片链接的稳定性。 如果你希望在手机或电脑上轻松管理图床，PicList 是一个极佳的选择。它支持多种存储方案，其中 Gitee&#x2F;GitHub 组合是免费的最佳方案。本教程将指导你如何使用 PicList + Gitee 搭建一个高效的个人图床。  GitHub 上的图片在国内可能加载较慢，因此推荐使用 Gitee 进行加速。  基于 PicList + GitHub...</div></div></div></a><a class="pagination-related" href="/My-New-Post/" title="Hexo 运维状况"><img class="cover" src="https://ghfast.top/https://raw.githubusercontent.com/Brian510000/pic_bed/main/web-site/5.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">Hexo 运维状况</div></div><div class="info-2"><div class="info-item-1">测试中，git 是否正确提交分支 测试保存源码是否会覆盖 main 或上传 main 现在 vscode 提交到分支 source 上，不影响 main 分支的代理 使用教程1$ hexo s  可以直接边运维边查看实际效果  1$ hexo clean &amp;&amp; hexo generate &amp;&amp; hexo deploy  可以一键部署到远程服务器 运维状况报告日期： 2025 年 2 月 8 日作者： 花开一百年 1. 服务器状态阿里云 SSL 证书还剩 19 张华为云 SSL 证书 20 张 2. 近期事件2.1 服务器维护 时间： 2025-02-07 23:00 - 2025-02-08 02:00 内容： 例行安全补丁更新 + 服务器重启 影响： 期间短暂宕机 5 分钟  2.2 发现的问题优化界面 UI，部分标题导航栏无法正确打开 3. 解决方案与优化使用文档 4. 未来改进方向 优化界面 UI，提升用户体验   建议（给 Markdown 新手） 使用 Markdown 编辑器：推荐使用 VSCode + Markdown...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/Audio-jumper/" title="Audio jumper"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-02-18</div><div class="info-item-2">Audio jumper</div></div><div class="info-2"><div class="info-item-1">Voicemeeter 音频跳线第一步：启动 Voicemeeter 先打开 voicemeeter8.exe 软件，确保其正常运行。  第二步：更改系统声音设置录制设备 只启用 Voicemeeter Output，并将其设为默认设备。  播放设备 只启用 Voicemeeter VAIO3 INPUT。 注意：在播放设备中，还需确保自己的耳机已启用，但无需设为默认设备，否则可能影响正常使用。  第三步：软件设置 进入 Voicemeeter 软件的**HARDWARE OUT(硬件输出)**设置。 在通道 A1 处，选择带有前缀 WDM 的耳机设备。 例如，如果你的耳机设备是 音响(Realtek(R) Audio)，则应选择 WDM: 音响(Realtek(R) Audio)。   此步骤至关重要，确保正确选择输出设备，以避免音频异常。  设置完成后，即可正常使用 Voicemeeter 进行音频管理！ </div></div></div></a><a class="pagination-related" href="/Linux/" title="WSL2 Linux install"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-02-25</div><div class="info-item-2">WSL2 Linux install</div></div><div class="info-2"><div class="info-item-1">WSL2：将 Windows 与 Linux 无缝结合在 Windows 环境中，如何高效运行 Linux 命令、使用 Windows 软件、并实现显卡直通等操作？答案就是 WSL2，即 Windows Subsystem for Linux 2，它让 Windows 与 Linux 的无缝结合成为可能。本文将深入了解 WSL2 的工作原理、安装步骤、使用技巧及高级功能。 1. WSLWSL（Windows Subsystem for Linux）分为两个版本：WSL1 和 WSL2。WSL1 通过模拟 Linux 内核并将其系统调用翻译为 Windows NT 内核指令来实现兼容性。然而，这种方式并非完美，导致了某些功能无法支持（如 Docker），且性能和兼容性有所限制。 WSL2 相比 WSL1 具有显著的改进，它基于 Hyper-V 虚拟化平台，能够真正运行 Linux 内核，从而大大提升了兼容性和性能，解决了 WSL1 无法运行 Docker 等问题。  2. 安装 WSL2 的前提条件要使用 WSL2，首先需要满足以下条件：  开启 CPU 虚拟化：检查...</div></div></div></a><a class="pagination-related" href="/My-New-Post/" title="Hexo 运维状况"><img class="cover" src="https://ghfast.top/https://raw.githubusercontent.com/Brian510000/pic_bed/main/web-site/5.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-02-22</div><div class="info-item-2">Hexo 运维状况</div></div><div class="info-2"><div class="info-item-1">测试中，git 是否正确提交分支 测试保存源码是否会覆盖 main 或上传 main 现在 vscode 提交到分支 source 上，不影响 main 分支的代理 使用教程1$ hexo s  可以直接边运维边查看实际效果  1$ hexo clean &amp;&amp; hexo generate &amp;&amp; hexo deploy  可以一键部署到远程服务器 运维状况报告日期： 2025 年 2 月 8 日作者： 花开一百年 1. 服务器状态阿里云 SSL 证书还剩 19 张华为云 SSL 证书 20 张 2. 近期事件2.1 服务器维护 时间： 2025-02-07 23:00 - 2025-02-08 02:00 内容： 例行安全补丁更新 + 服务器重启 影响： 期间短暂宕机 5 分钟  2.2 发现的问题优化界面 UI，部分标题导航栏无法正确打开 3. 解决方案与优化使用文档 4. 未来改进方向 优化界面 UI，提升用户体验   建议（给 Markdown 新手） 使用 Markdown 编辑器：推荐使用 VSCode + Markdown...</div></div></div></a><a class="pagination-related" href="/daliy_post/" title="ZJNULL 更新评论区"><img class="cover" src="https://ghfast.top/https://raw.githubusercontent.com/Brian510000/pic_bed/main/web-site/5.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-02-12</div><div class="info-item-2">ZJNULL 更新评论区</div></div><div class="info-2"><div class="info-item-1">GitHub 讨论部署今儿我在自己发布的文章里看到头文件里有 comment，但文章下方或附近却完全找不到评论区。怎么回事？带着疑问去查了下 Wiki，结果发现：评论也需要手动创建、对接、部署……一想到又得折腾这一套流程，属实让人头大。 不过好在主题文档写得还算清晰。先去 GitHub 应用那里安装了 giscus，然后创建了一个仓库来存储评论数据，接着开启了 discussion 映射关系。说来也神奇，虽然是第一次接触这个功能，甚至连名字都是第一次听说，但却自然而然地摸到了大概的位置。顺着感觉自然而然地一路点进 Setting，勾选 Discussion，再回到 giscus 刷新，完成对接。 接下来就是部署，也就是写代码的关键步骤了。Hexo 的大部分配置都在 _config.yml 文件中进行调整，包括主题、代码块高亮、站点配置、构建、部署等。然而，评论系统的配置却在_config.butterfly.yml里，我在 config.yml 里尝试进行部署，自然一点效果都没有 (っ- ‸ - ς)。这一刻是真的卡住了，不知道该怎么办，迷迷糊糊地……还好，去问了一手 GPT...</div></div></div></a><a class="pagination-related" href="/piclist/" title="通过Gitee镜像加速图床"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-02-21</div><div class="info-item-2">通过Gitee镜像加速图床</div></div><div class="info-2"><div class="info-item-1">前言由于某些特殊原因，国内的 Gitee Pages 暂时无法提供服务，导致 Markdown 文件中的图片无法正常显示。此外，Gitee 可能会对 raw 链接的外部访问进行限制，使得某些平台（如 GitHub 及部分 Markdown 解析器）无法直接引用 Gitee 上的图片。  为了解决这一问题，我们可以搭建一个图床，将图片上传至 GitHub Pages，并通过 Gitee 对 GitHub Pages 仓库进行镜像，以 Gitee 提供的 raw 链接来引用图片。这种方法不仅能够加快国内访问速度，还能提高图片链接的稳定性。 如果你希望在手机或电脑上轻松管理图床，PicList 是一个极佳的选择。它支持多种存储方案，其中 Gitee&#x2F;GitHub 组合是免费的最佳方案。本教程将指导你如何使用 PicList + Gitee 搭建一个高效的个人图床。  GitHub 上的图片在国内可能加载较慢，因此推荐使用 Gitee 进行加速。  基于 PicList + GitHub...</div></div></div></a><a class="pagination-related" href="/tips/" title="ZJNULL 项目说明"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-02-19</div><div class="info-item-2">ZJNULL 项目说明</div></div><div class="info-2"><div class="info-item-1">Hexo 项目说明目前，zjnull本项目在 GitHub 仓库有两个分支：  main 分支：Hexo 自动生成的静态网页文件（hexo clean &amp;&amp; hexo g &amp;&amp; hexo d）   source 分支：在 VS Code 里手动推送的全部 Hexo 源码  关于 HexoHexo 是一个基于 Node.js 高效的web服务器框架，可以快速生成静态网页。 Hexo 使用 Markdown（或其他语言）来写文章，并在渲染时将其转换为 HTML 文件。 Hexo 支持丰富的插件，可以实现各种功能，如评论、搜索、统计、分类、标签、分页等。 Hexo 支持自定义页面，可以搭建个人博客或企业网站。 Hexo 支持本地预览，可以实时看到修改后的效果。 Hexo 支持部署到 GitHub、GitLab、Coding 等平台。 Hexo 部署分支修改Hexo 的部署分支通常是在 _config.yml 配置文件中的 deploy 部分进行设置。例如： 12345# _config.ymldeploy:  type: git  repo:...</div></div></div></a></div></div><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="giscus-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/img/3.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">花开一百年</div><div class="author-info-description"></div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">14</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">2</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">1</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Brian510000"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/Brian510000" target="_blank" title="Github"><i class="fab fa-brands fa-git-alt" style="color: #24292e;"></i></a><a class="social-icon" href="mailto:croydefilippomz8544@gmail.com" target="_blank" title="Email"><i class="fas fa-brands fa-google" style="color: #4285F4;"></i></a><a class="social-icon" href="/img/7.jpg" target="_blank" title="WeChat"><i class="fab fa-brands fa-weixin" style="color: #1AAD19;"></i></a><a class="social-icon" href="tencent://message/?uin=3193429949&amp;Site=&amp;Menu=yes" target="_blank" title="QQ"><i class="fab fa-brands fa-qq" style="color: #12B7F5;"></i></a><a class="social-icon" href="https://space.bilibili.com/309421020" target="_blank" title="Bilibili"><i class="fab fa-brands fa-bilibili" style="color: #FB7299;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">还在维护中,导航栏指针未定义,界面UI待优化</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8-IIS-%E6%90%AD%E5%BB%BA%E6%9C%AC%E5%9C%B0-Web-%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="toc-number">1.</span> <span class="toc-text">使用 IIS 搭建本地 Web 服务器</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E6%90%AD%E5%BB%BA-IIS"><span class="toc-number">1.1.</span> <span class="toc-text">1. 搭建 IIS</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-%E5%90%AF%E7%94%A8-IIS-%E6%9C%8D%E5%8A%A1"><span class="toc-number">1.1.1.</span> <span class="toc-text">1.1 启用 IIS 服务</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-%E8%BF%9B%E5%85%A5-IIS-%E7%AE%A1%E7%90%86%E5%99%A8"><span class="toc-number">1.1.2.</span> <span class="toc-text">1.2 进入 IIS 管理器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-3-%E6%B7%BB%E5%8A%A0%E7%BD%91%E7%AB%99%EF%BC%88%E4%B9%9F%E5%8F%AF%E4%BB%A5%E7%9B%B4%E6%8E%A5%E4%BD%BF%E7%94%A8-Default-Web-Site"><span class="toc-number">1.1.3.</span> <span class="toc-text">1.3 添加网站（也可以直接使用 Default Web Site)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-4-%E8%AE%BF%E9%97%AE%E7%BD%91%E7%AB%99"><span class="toc-number">1.1.4.</span> <span class="toc-text">1.4 访问网站</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E5%9F%BA%E4%BA%8E-node-js-%E7%9A%84%E9%9D%99%E6%80%81%E6%96%87%E4%BB%B6%E9%83%A8%E7%BD%B2%E6%96%B9%E6%A1%88"><span class="toc-number">1.2.</span> <span class="toc-text">2.基于 node.js 的静态文件部署方案</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9C%A8-IIS-%E4%B8%8A%E8%BF%90%E8%A1%8C-Hexo-%E5%8D%9A%E5%AE%A2"><span class="toc-number">1.2.1.</span> <span class="toc-text">在 IIS 上运行 Hexo 博客</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%E7%94%9F%E6%88%90%E9%9D%99%E6%80%81%E7%BD%91%E9%A1%B5"><span class="toc-number">1.2.2.</span> <span class="toc-text">2.1 生成静态网页</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-%E9%83%A8%E7%BD%B2%E5%88%B0-IIS"><span class="toc-number">1.2.3.</span> <span class="toc-text">2.2 部署到 IIS</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-%E7%BB%91%E5%AE%9A%E5%9F%9F%E5%90%8D%E6%88%96%E8%AE%BF%E9%97%AE"><span class="toc-number">1.2.4.</span> <span class="toc-text">2.3 绑定域名或访问</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-%E5%A4%84%E7%90%86%E5%8A%A8%E6%80%81%E5%8A%9F%E8%83%BD%EF%BC%88%E5%A6%82%E8%AF%84%E8%AE%BA%E3%80%81%E6%90%9C%E7%B4%A2%EF%BC%89"><span class="toc-number">1.2.5.</span> <span class="toc-text">2.4 处理动态功能（如评论、搜索）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-IIS-%E7%9A%84-HTTP-HTTPS-%E8%A7%84%E5%88%99"><span class="toc-number">1.3.</span> <span class="toc-text">3. IIS 的 HTTP&#x2F;HTTPS 规则</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-%E8%A7%A3%E5%86%B3-API-%E8%AE%BF%E9%97%AE%E9%97%AE%E9%A2%98%EF%BC%88CORS-%E9%85%8D%E7%BD%AE%EF%BC%89"><span class="toc-number">1.3.1.</span> <span class="toc-text">3.1 解决 API 访问问题（CORS 配置）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%9B%A0-%E6%96%B9%E6%B3%95-1%EF%BC%9A%E4%BF%AE%E6%94%B9-web-config%EF%BC%88%E6%8E%A8%E8%8D%90%EF%BC%89"><span class="toc-number">1.3.2.</span> <span class="toc-text">🛠 方法 1：修改 web.config（推荐）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%9B%A0-%E6%96%B9%E6%B3%95-2%EF%BC%9AIIS-%E7%AE%A1%E7%90%86%E5%99%A8%E4%B8%AD%E6%89%8B%E5%8A%A8%E9%85%8D%E7%BD%AE"><span class="toc-number">1.3.3.</span> <span class="toc-text">🛠 方法 2：IIS 管理器中手动配置</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/Linux/" title="WSL2 Linux install">WSL2 Linux install</a><time datetime="2025-02-25T12:54:26.000Z" title="发表于 2025-02-25 20:54:26">2025-02-25</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/update-picbed/" title="Proxy 使用（含 VSCode &amp; PicList 迁移）"><img src="https://ghfast.top/https://raw.githubusercontent.com/Brian510000/pic_bed/main/web-site/20250223045607120.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Proxy 使用（含 VSCode &amp; PicList 迁移）"/></a><div class="content"><a class="title" href="/update-picbed/" title="Proxy 使用（含 VSCode &amp; PicList 迁移）">Proxy 使用（含 VSCode &amp; PicList 迁移）</a><time datetime="2025-02-23T13:09:11.000Z" title="发表于 2025-02-23 21:09:11">2025-02-23</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/extensions/" title="关于VS code插件的碎碎念">关于VS code插件的碎碎念</a><time datetime="2025-02-22T21:33:38.000Z" title="发表于 2025-02-23 05:33:38">2025-02-23</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/chaoxing/" title="chaoxing">chaoxing</a><time datetime="2025-02-22T17:52:27.000Z" title="发表于 2025-02-23 01:52:27">2025-02-23</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/subtitle/" title="something about my memory">something about my memory</a><time datetime="2025-02-22T17:40:31.000Z" title="发表于 2025-02-23 01:40:31">2025-02-23</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url(/img/2.jpg);"><div id="footer-wrap"><div class="copyright">&copy;2025 By 花开一百年</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text"><a href="https://icp.gov.moe/?keyword=20250918" target="_blank">萌ICP备20250918号</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="前往评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"><script>(() => {
  const isShuoshuo = GLOBAL_CONFIG_SITE.pageType === 'shuoshuo'
  const option = null

  const getGiscusTheme = theme => theme === 'dark' ? 'dark' : 'light'

  const createScriptElement = config => {
    const ele = document.createElement('script')
    Object.entries(config).forEach(([key, value]) => {
      ele.setAttribute(key, value)
    })
    return ele
  }

  const loadGiscus = (el = document, key) => {
    const mappingConfig = isShuoshuo
      ? { 'data-mapping': 'specific', 'data-term': key }
      : { 'data-mapping': (option && option['data-mapping']) || 'pathname' }

    const giscusConfig = {
      src: 'https://giscus.app/client.js',
      'data-repo': 'Brian510000/comments',
      'data-repo-id': 'R_kgDON4YPQQ',
      'data-category-id': 'DIC_kwDON4YPQc4Cm5dh',
      'data-theme': getGiscusTheme(document.documentElement.getAttribute('data-theme')),
      'data-reactions-enabled': '1',
      crossorigin: 'anonymous',
      async: true,
      ...option,
      ...mappingConfig
    }

    const scriptElement = createScriptElement(giscusConfig)

    el.querySelector('#giscus-wrap').appendChild(scriptElement)

    if (isShuoshuo) {
      window.shuoshuoComment.destroyGiscus = () => {
        if (el.children.length) {
          el.innerHTML = ''
          el.classList.add('no-comment')
        }
      }
    }
  }

  const changeGiscusTheme = theme => {
    const iframe = document.querySelector('#giscus-wrap iframe')
    if (iframe) {
      const message = {
        giscus: {
          setConfig: {
            theme: getGiscusTheme(theme)
          }
        }
      }
      iframe.contentWindow.postMessage(message, 'https://giscus.app')
    }
  }

  btf.addGlobalFn('themeChange', changeGiscusTheme, 'giscus')

  if (isShuoshuo) {
    'Giscus' === 'Giscus'
      ? window.shuoshuoComment = { loadComment: loadGiscus }
      : window.loadOtherComment = loadGiscus
    return
  }

  if ('Giscus' === 'Giscus' || !false) {
    if (false) btf.loadComment(document.getElementById('giscus-wrap'), loadGiscus)
    else loadGiscus()
  } else {
    window.loadOtherComment = loadGiscus
  }
})()</script></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>